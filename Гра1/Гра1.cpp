// оопрацюйте гру, яку створювали на занятті:
//-користувач повинен мати можливість обирати розміри поля(NxN)++
//- реалізуйте підрахунок балів(+1 коли змія з'їдає їжу)++
#include <iostream>
#include <stdio.h>
#include <conio.h>
#include<Windows.h>
using namespace std;

int main()
{
	SetConsoleCP(1251);
	SetConsoleOutputCP(1251);
	char key;
	int i = 0;
	int x = 4, y = 5;
	int ox = 4, oy = 5;
	int ax = 2, ay = 2;
	int ball = 0;
	int v = 0;
	cout << "\t\tГра 'змійка'!!!\n\t\tПравила гри\n1 - Для переміщення змії використовуйте клавіши\nw - Вверх\ns - Вниз\na - Ліворуч\n d - праворуч\n2 - Для виграшу наберіть 21 бал" <<endl;
	cout << "\nВиберіть формат поля" <<endl;
	cout << "1 - поле 10х10\n2 - поле 15х15\n3 - поле 20х20" << endl;
	cin >> v; 
	if (v == 1) {
		while (ball != 21) {

			char mas[10][10] = { '#','#' ,'#' ,'#','#','#','#','#', '#','#',
								'#', ' ', ' ', ' ', ' ',' ',' ',' ',' ','#',
								'#', ' ', ' ', ' ', ' ',' ',' ',' ',' ','#',
								'#', ' ', ' ', ' ', ' ',' ',' ',' ',' ','#',
								'#', ' ', ' ', ' ', ' ',' ',' ',' ',' ','#',
								'#', ' ', ' ', ' ', ' ',' ',' ',' ',' ','#',
								'#', ' ', ' ', ' ', ' ',' ',' ',' ',' ','#',
								'#', ' ', ' ', ' ', ' ',' ',' ',' ',' ','#',
								'#', ' ', ' ', ' ', ' ',' ',' ',' ',' ','#',
								'#','#' ,'#' ,'#','#','#','#','#', '#','#' };


			system("cls");
		
			cout << "Бали =" << ball << endl;

			mas[x][y] = '@';
			mas[ax][ay] = '*';
			for (int i = 0; i < 10; i++)
			{
				for (int j = 0; j < 10; j++)
				{
					cout << mas[i][j];
				}
				cout << endl;
			}

			key = _getch();

			if (key == 'w') x--;
			if (key == 's') x++;
			if (key == 'a') y--;
			if (key == 'd') y++;

			if (mas[y][x] == '#') {
				y = oy;
				x = oy;
			}
			if (x == ax && y == ay) {
				ball++;
				ax = rand() % 8 + 1;
				ay = rand() % 8 + 1;
			}
		}
	}
	if (v == 2) {
		while (ball != 21) {

			char mas[15][15] = { '#','#' ,'#' ,'#','#','#','#','#', '#','#','#','#' ,'#' ,'#','#',
								'#', ' ', ' ', ' ', ' ',' ',' ',' ',' ',' ', ' ', ' ', ' ',' ','#',
								'#', ' ', ' ', ' ', ' ',' ',' ',' ',' ',' ', ' ', ' ', ' ',' ','#',
								'#', ' ', ' ', ' ', ' ',' ',' ',' ',' ',' ', ' ', ' ', ' ',' ','#',
								'#', ' ', ' ', ' ', ' ',' ',' ',' ',' ',' ', ' ', ' ', ' ',' ','#',
								'#', ' ', ' ', ' ', ' ',' ',' ',' ',' ',' ', ' ', ' ', ' ',' ','#',
								'#', ' ', ' ', ' ', ' ',' ',' ',' ',' ',' ', ' ', ' ', ' ',' ','#',
								'#', ' ', ' ', ' ', ' ',' ',' ',' ',' ',' ', ' ', ' ', ' ',' ','#',
								'#', ' ', ' ', ' ', ' ',' ',' ',' ',' ',' ', ' ', ' ', ' ',' ','#',
								'#', ' ', ' ', ' ', ' ',' ',' ',' ',' ',' ', ' ', ' ', ' ',' ','#',
								'#', ' ', ' ', ' ', ' ',' ',' ',' ',' ',' ', ' ', ' ', ' ',' ','#',
								'#', ' ', ' ', ' ', ' ',' ',' ',' ',' ',' ', ' ', ' ', ' ',' ','#',
								'#', ' ', ' ', ' ', ' ',' ',' ',' ',' ',' ', ' ', ' ', ' ',' ','#',
								'#', ' ', ' ', ' ', ' ',' ',' ',' ',' ',' ', ' ', ' ', ' ',' ','#',
								'#','#' ,'#' ,'#','#','#','#','#', '#','#','#','#' ,'#' ,'#','#', };

			system("cls");
		
			cout << "Бали =" << ball << endl;

			mas[x][y] = '@';
			mas[ax][ay] = '*';
			for (int i = 0; i < 15; i++)
			{
				for (int j = 0; j < 15; j++)
				{
					cout << mas[i][j];
				}
				cout << endl;
			}
			key = _getch();

			if (key == 'w') x--;
			if (key == 's') x++;
			if (key == 'a') y--;
			if (key == 'd') y++;

			if (mas[y][x] == '#') {
				y = oy;
				x = oy;
			}
			if (x == ax && y == ay) {
				ball++;
				ax = rand() % 13 + 1;
				ay = rand() % 13 + 1;
			}
		}
	}
	if (v == 3) {
		while (ball != 21) {

			char mas[20][20] = { '#','#' ,'#' ,'#','#','#','#','#', '#','#','#','#' ,'#' ,'#','#','#','#','#', '#','#',
								'#', ' ', ' ', ' ', ' ',' ',' ',' ',' ',' ', ' ', ' ', ' ',' ',' ',' ',' ',' ',' ','#',
								'#', ' ', ' ', ' ', ' ',' ',' ',' ',' ',' ', ' ', ' ', ' ',' ',' ',' ',' ',' ',' ','#',
								'#', ' ', ' ', ' ', ' ',' ',' ',' ',' ',' ', ' ', ' ', ' ',' ',' ',' ',' ',' ',' ','#',
								'#', ' ', ' ', ' ', ' ',' ',' ',' ',' ',' ', ' ', ' ', ' ',' ',' ',' ',' ',' ',' ','#',
								'#', ' ', ' ', ' ', ' ',' ',' ',' ',' ',' ', ' ', ' ', ' ',' ',' ',' ',' ',' ',' ','#',
								'#', ' ', ' ', ' ', ' ',' ',' ',' ',' ',' ', ' ', ' ', ' ',' ',' ',' ',' ',' ',' ','#',
								'#', ' ', ' ', ' ', ' ',' ',' ',' ',' ',' ', ' ', ' ', ' ',' ',' ',' ',' ',' ',' ','#',
								'#', ' ', ' ', ' ', ' ',' ',' ',' ',' ',' ', ' ', ' ', ' ',' ',' ',' ',' ',' ',' ','#',
								'#', ' ', ' ', ' ', ' ',' ',' ',' ',' ',' ', ' ', ' ', ' ',' ',' ',' ',' ',' ',' ','#',
								'#', ' ', ' ', ' ', ' ',' ',' ',' ',' ',' ', ' ', ' ', ' ',' ',' ',' ',' ',' ',' ','#',
								'#', ' ', ' ', ' ', ' ',' ',' ',' ',' ',' ', ' ', ' ', ' ',' ',' ',' ',' ',' ',' ','#',
								'#', ' ', ' ', ' ', ' ',' ',' ',' ',' ',' ', ' ', ' ', ' ',' ',' ',' ',' ',' ',' ','#',
								'#', ' ', ' ', ' ', ' ',' ',' ',' ',' ',' ', ' ', ' ', ' ',' ',' ',' ',' ',' ',' ','#',
								'#', ' ', ' ', ' ', ' ',' ',' ',' ',' ',' ', ' ', ' ', ' ',' ',' ',' ',' ',' ',' ','#',
								'#', ' ', ' ', ' ', ' ',' ',' ',' ',' ',' ', ' ', ' ', ' ',' ',' ',' ',' ',' ',' ','#',
								'#', ' ', ' ', ' ', ' ',' ',' ',' ',' ',' ', ' ', ' ', ' ',' ',' ',' ',' ',' ',' ','#',
								'#', ' ', ' ', ' ', ' ',' ',' ',' ',' ',' ', ' ', ' ', ' ',' ',' ',' ',' ',' ',' ','#',
								'#', ' ', ' ', ' ', ' ',' ',' ',' ',' ',' ', ' ', ' ', ' ',' ',' ',' ',' ',' ',' ','#',
								'#','#' ,'#' ,'#','#','#','#','#', '#','#','#','#' ,'#' ,'#','#','#','#','#', '#','#', };


			system("cls");
			
			cout << "Бали =" << ball << endl;

			mas[x][y] = '@';
			mas[ax][ay] = '*';
			for (int i = 0; i < 20; i++)
			{
				for (int j = 0; j < 20; j++)
				{
					cout << mas[i][j];
				}
				cout << endl;
			}

			key = _getch();

			if (key == 'w') x--;
			if (key == 's') x++;
			if (key == 'a') y--;
			if (key == 'd') y++;

			if (mas[y][x] == '#') {
				y = oy;
				x = oy;
			}
			if (x == ax && y == ay) {
				ball++;
				ax = rand() % 18 + 1;
				ay = rand() % 18 + 1;
			}
		}
	}
	if (ball == 21) {
		cout << "Ви виграли!!! ";
	}
	return 0;

}

